<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ржкрзБржХрзБрж░ ржмрзНржпржмрж╕рзНржерж╛ржкржирж╛ рж╕рж╣рж╛рзЯрж┐ржХрж╛</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Hind+Siliguri:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Calm Harmony (Slate, Stone, Teal, Amber) -->
    <!-- Application Structure Plan: A task-oriented, five-section single-page application (SPA) design. The structure guides the user from crisis to resolution: 1) Emergency Diagnosis & First Aid, 2) Interactive Calculator (with dual modes for emergency and preparation), 3) Application Guide, 4) Fish Feed Management (with new feed calculator), and 5) Long-term Prevention. This tabbed structure prioritizes user tasks, allowing quick access to relevant information. -->
    <!-- Visualization & Content Choices: 
        1. Report Info: Comparing safety of different lime types. Goal: Guide user to the safest choice. Viz/Method: Bar Chart (Chart.js). Interaction: None. Justification: A visual chart is more impactful than a table for comparing risk vs. safety. Confirms NO SVG.
        2. Report Info: Dosage calculation for lime/salt. Goal: Provide precise, customized amounts. Viz/Method: Interactive number input + dynamic text output with a mode toggle. Interaction: User inputs pond size and selects mode (emergency/preparation), JS recalculates and updates displayed values. Justification: Empowers the user with a versatile tool for different scenarios.
        3. Report Info: Fish feed calculation. Goal: Provide precise feed amount. Viz/Method: New interactive calculator in the feed section. Interaction: User inputs avg. fish weight and total count, JS calculates total biomass and daily feed requirement. Justification: Adds significant practical value by automating a crucial daily calculation for the user.
        4. Report Info: Long-term management topics. Goal: Organize diverse information. Viz/Method: Accordion (HTML/Tailwind/JS). Interaction: Click to expand/collapse. Justification: Prevents information overload. Confirms NO SVG/Mermaid.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Hind Siliguri', sans-serif;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
        .tab-active {
            border-color: #0d9488;
            background-color: #ccfbf1;
            color: #134e4a;
            font-weight: 600;
        }
        .tab-inactive {
            border-color: transparent;
            background-color: #f1f5f9;
            color: #475569;
        }
        .calc-mode-btn.mode-active {
            background-color: #0d9488;
            color: white;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
        }
        .calc-mode-btn {
            background-color: #e2e8f0;
            color: #475569;
        }
        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-800">

    <div class="container mx-auto p-4 sm:p-6 lg:p-8 max-w-6xl">
        <header class="text-center mb-8">
            <h1 class="text-3xl md:text-4xl font-bold text-teal-800">ржкрзБржХрзБрж░ ржмрзНржпржмрж╕рзНржерж╛ржкржирж╛ рж╕рж╣рж╛рзЯрж┐ржХрж╛</h1>
            <p class="mt-2 text-slate-600">ржорж╛ржЫрзЗрж░ ржорзЬржХ рж░рзЛржз ржУ ржкрж╛ржирж┐рж░ ржЧрзБржгржЧржд ржорж╛ржи ржЙржирзНржирзЯржирзЗ ржПржХржЯрж┐ ржЗржирзНржЯрж╛рж░рзЗржХрзНржЯрж┐ржн ржЧрж╛ржЗржб</p>
        </header>

        <nav class="flex flex-wrap justify-center gap-2 sm:gap-4 mb-8">
            <button data-tab="emergency" class="tab-button text-sm sm:text-base px-3 py-2 rounded-lg border-b-4 transition-all duration-300">ЁЯЪи ржЬрж░рзБрж░рж┐ ржЕржмрж╕рзНржерж╛</button>
            <button data-tab="calculator" class="tab-button text-sm sm:text-base px-3 py-2 rounded-lg border-b-4 transition-all duration-300">ЁЯзк ржХрзНржпрж╛рж▓ржХрзБрж▓рзЗржЯрж░</button>
            <button data-tab="application" class="tab-button text-sm sm:text-base px-3 py-2 rounded-lg border-b-4 transition-all duration-300">ЁЯУЛ ржкрзНрж░рзЯрзЛржЧ ржкржжрзНржзрждрж┐</button>
            <button data-tab="feed" class="tab-button text-sm sm:text-base px-3 py-2 rounded-lg border-b-4 transition-all duration-300">ЁЯРЯ ржорж╛ржЫрзЗрж░ ржЦрж╛ржжрзНржп</button>
            <button data-tab="management" class="tab-button text-sm sm:text-base px-3 py-2 rounded-lg border-b-4 transition-all duration-300">ЁЯМ▒ ржжрзАрж░рзНржШржорзЗрзЯрж╛ржжрзА ржмрзНржпржмрж╕рзНржерж╛ржкржирж╛</button>
        </nav>

        <main>
            <!-- Section 1: Emergency -->
            <section id="emergency" class="content-section bg-white p-6 rounded-xl shadow-lg">
                <h2 class="text-2xl font-bold text-red-700 mb-4 border-b-2 border-red-200 pb-2">ржЕржзрзНржпрж╛рзЯ рзз: ржЬрж░рзБрж░рж┐ ржЕржмрж╕рзНржерж╛ ржмрж┐рж╢рзНрж▓рзЗрж╖ржг ржУ рждрж╛рзОржХрзНрж╖ржгрж┐ржХ ржХрж░ржгрзАрзЯ</h2>
                <p class="mb-6 text-slate-600">ржЖржкржирж╛рж░ ржкрзБржХрзБрж░рзЗ рж░рж╛рждрзЗ ржорж╛ржЫ ржорж╛рж░рж╛ ржпрж╛ржУрзЯрж╛рж░ ржкрзНрж░ржзрж╛ржи ржХрж╛рж░ржг ржЕржХрзНрж╕рж┐ржЬрзЗржирзЗрж░ ржЕржнрж╛ржм ржПржмржВ ржмрж┐рж╖рж╛ржХрзНржд ржЧрзНржпрж╛рж╕ред ржЪрзБржи ржмрж╛ рж▓ржмржг ржжрзЗржУрзЯрж╛рж░ ржЖржЧрзЗ ржорж╛ржЫржХрзЗ ржмрж╛ржБржЪрж╛ржирзЛржЗ ржкрзНрж░ржержо ржХрж╛ржЬред ржирж┐ржЪрзЗрж░ ржЪрзЗржХрж▓рж┐рж╕рзНржЯржЯрж┐ ржорж┐рж▓рж┐рзЯрзЗ ржжрзЗржЦрзБржи ржПржмржВ рждрж╛рзОржХрзНрж╖ржгрж┐ржХ ржкржжржХрзНрж╖рзЗржк ржЧрзНрж░рж╣ржг ржХрж░рзБржиред</p>
                <div class="grid md:grid-cols-2 gap-6">
                    <div class="bg-amber-50 border-l-4 border-amber-500 p-4 rounded-r-lg">
                        <h3 class="text-xl font-semibold text-amber-800 mb-3">ржкрзБржХрзБрж░рзЗрж░ рж╕рзНржмрж╛рж╕рзНржерзНржп ржкрж░рзАржХрзНрж╖рж╛ (ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд ржЪрзЗржХрж▓рж┐рж╕рзНржЯ)</h3>
                        <ul class="space-y-2 text-slate-700">
                            <li class="flex items-start"><span class="mr-2 mt-1 text-amber-600">тЮбя╕П</span>ржорж╛ржЫ ржХрж┐ ржнрзЛрж░рзЗрж░ ржжрж┐ржХрзЗ ржЭрж╛ржБржХ ржмрзЗржБржзрзЗ ржкрж╛ржирж┐рж░ ржЙржкрж░рзЗ ржЦрж╛ржмрж┐ ржЦрж╛ржЪрзНржЫрзЗ?</li>
                            <li class="flex items-start"><span class="mr-2 mt-1 text-amber-600">тЮбя╕П</span>ржкрж╛ржирж┐рж░ рж░ржЩ ржХрж┐ ржЧрж╛рзЭ рж╕ржмрзБржЬ ржмрж╛ рж╕рж░рзЗрж░ ржорждрзЛ рж╕рзНрждрж░ржпрзБржХрзНржд?</li>
                            <li class="flex items-start"><span class="mr-2 mt-1 text-amber-600">тЮбя╕П</span>ржкрж╛ржирж┐ ржерзЗржХрзЗ ржХрж┐ ржкржЪрж╛ ржбрж┐ржорзЗрж░ ржорждрзЛ ржЧржирзНржз ржЖрж╕ржЫрзЗ?</li>
                            <li class="flex items-start"><span class="mr-2 mt-1 text-amber-600">тЮбя╕П</span>ржорж╛ржЫ ржХрж┐ ржЕрж▓рж╕ржнрж╛ржмрзЗ рж╕рж╛ржБрждрж╛рж░ ржХрж╛ржЯржЫрзЗ ржмрж╛ ржЦрж╛ржмрж╛рж░ ржЦрж╛ржЪрзНржЫрзЗ ржирж╛?</li>
                            <li class="flex items-start"><span class="mr-2 mt-1 text-amber-600">тЮбя╕П</span>ржорзГржд ржорж╛ржЫрзЗрж░ ржорзБржЦ ржХрж┐ ржЕрж╕рзНржмрж╛ржнрж╛ржмрж┐ржХржнрж╛ржмрзЗ ржЦрзЛрж▓рж╛?</li>
                        </ul>
                    </div>
                    <div class="bg-emerald-50 border-l-4 border-emerald-500 p-4 rounded-r-lg">
                        <h3 class="text-xl font-semibold text-emerald-800 mb-3">ржкрзНрж░рж╛ржержорж┐ржХ ржЪрж┐ржХрж┐рзОрж╕рж╛: ржЕржХрзНрж╕рж┐ржЬрзЗржи ржмрж╛рзЬрж╛ржи</h3>
                        <ul class="space-y-2 text-slate-700">
                            <li class="flex items-start"><span class="mr-2 mt-1 text-emerald-600">тЬЕ</span>ржкрж╛ржорзНржк ржжрж┐рзЯрзЗ ржкрж╛ржирж┐ рждрзБрж▓рзЗ ржЙржБржЪрзБ ржерзЗржХрзЗ ржлрзЗрж▓рзЗ ржврзЗржЙ рж╕рзГрж╖рзНржЯрж┐ ржХрж░рзБржиред</li>
                            <li class="flex items-start"><span class="mr-2 mt-1 text-emerald-600">тЬЕ</span>ржкрзБржХрзБрж░рзЗ рж╕рж╛ржБрждрж╛рж░ ржХрзЗржЯрзЗ ржмрж╛ ржмрж╛ржБрж╢ ржжрж┐рзЯрзЗ ржкрж┐ржЯрж┐рзЯрзЗ ржкрж╛ржирж┐ ржЖржирзНржжрзЛрж▓рж┐ржд ржХрж░рзБржиред</li>
                            <li class="flex items-start"><span class="mr-2 mt-1 text-emerald-600">тЬЕ</span>рж╕ржорзНржнржм рж╣рж▓рзЗ ржЬрж░рзБрж░рж┐ ржЕржХрзНрж╕рж┐ржЬрзЗржи ржЯрзНржпрж╛ржмрж▓рзЗржЯ ржмрж╛ ржкрж╛ржЙржбрж╛рж░ ржкрзНрж░рзЯрзЛржЧ ржХрж░рзБржиред</li>
                            <li class="flex items-start"><span class="mr-2 mt-1 text-emerald-600">тЬЕ</span>ржЕржмрж┐рж▓ржорзНржмрзЗ ржмрж╛ржЗрж░рзЗ ржерзЗржХрзЗ ржмрж┐рж╢рзБржжрзНржз ржкрж╛ржирж┐ ржкрзНрж░ржмрзЗрж╢рзЗрж░ ржмрзНржпржмрж╕рзНржерж╛ ржХрж░рзБржиред</li>
                            <li class="flex items-start"><span class="mr-2 mt-1 text-emerald-600">тЬЕ</span>ржорж╛ржЫрзЗрж░ ржорзГрждрзНржпрзБ ржмржирзНржз ржирж╛ рж╣ржУрзЯрж╛ ржкрж░рзНржпржирзНржд ржЦрж╛ржмрж╛рж░ ржжрзЗржУрзЯрж╛ рж╕ржорзНржкрзВрж░рзНржг ржмржирзНржз рж░рж╛ржЦрзБржиред</li>
                        </ul>
                    </div>
                </div>
                 <div class="mt-6 p-4 bg-red-50 text-red-800 border border-red-200 rounded-lg">
                    <p><strong class="font-semibold">ржмрж┐рж╢рзЗрж╖ рж╕рждрж░рзНржХрждрж╛:</strong> ржкрзБржХрзБрж░рзЗ ржЕржХрзНрж╕рж┐ржЬрзЗржирзЗрж░ ржЕржнрж╛ржм ржерж╛ржХрж╛ ржЕржмрж╕рзНржерж╛рзЯ рж╕рж░рж╛рж╕рж░рж┐ ржЪрзБржи (ржмрж┐рж╢рзЗрж╖ ржХрж░рзЗ ржХрж▓рж┐ржЪрзБржи) ржкрзНрж░рзЯрзЛржЧ ржХрж░рж▓рзЗ ржкрж░рж┐рж╕рзНржерж┐рждрж┐ ржЖрж░ржУ ржЦрж╛рж░рж╛ржк рж╣рждрзЗ ржкрж╛рж░рзЗред ржкрзНрж░ржержорзЗ ржЕржХрзНрж╕рж┐ржЬрзЗржи рж╕рж░ржмрж░рж╛рж╣ ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рзЗ ржорж╛ржЫржХрзЗ рж╕рзНржерж┐рждрж┐рж╢рзАрж▓ ржХрж░рзБржи, рждрж╛рж░ржкрж░ ржЕржирзНржп ржмрзНржпржмрж╕рзНржерж╛ ржирж┐ржиред</p>
                </div>
            </section>

            <!-- Section 2: Calculator -->
            <section id="calculator" class="content-section hidden bg-white p-6 rounded-xl shadow-lg">
                <h2 class="text-2xl font-bold text-teal-800 mb-2 border-b-2 border-teal-200 pb-2">ржЕржзрзНржпрж╛рзЯ рзи: ржЪрзБржи ржУ рж▓ржмржг ржХрзНржпрж╛рж▓ржХрзБрж▓рзЗржЯрж░</h2>
                <div class="flex flex-col md:flex-row items-center justify-center gap-4 my-6 bg-slate-100 p-4 rounded-lg">
                    <label for="pondSize" class="text-lg font-medium text-slate-700">ржЖржкржирж╛рж░ ржкрзБржХрзБрж░рзЗрж░ ржЖрзЯрждржи (рж╢рждрж╛ржВрж╢):</label>
                    <input type="number" id="pondSize" value="66" min="1" class="w-24 p-2 text-center text-lg font-bold border-2 border-teal-300 rounded-md focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition">
                </div>
                <div class="flex justify-center mb-6 rounded-lg p-1 bg-slate-200 w-fit mx-auto">
                    <button id="calcModeEmergency" class="calc-mode-btn mode-active px-4 py-2 text-base font-semibold rounded-md transition-all duration-300">ржЬрж░рзБрж░рж┐ ржЕржмрж╕рзНржерж╛ (ржорж╛ржЫ рж╕рж╣)</button>
                    <button id="calcModePreparation" class="calc-mode-btn px-4 py-2 text-base font-semibold rounded-md transition-all duration-300">ржкрзБржХрзБрж░ ржкрзНрж░рж╕рзНрждрзБрждрж┐ (ржЦрж╛рж▓рж┐)</button>
                </div>

                <div id="emergencyResults">
                    <p class="text-center text-slate-600 mb-4">ржорж╛ржЫ ржерж╛ржХрж╛ ржЕржмрж╕рзНржерж╛рзЯ ржирж┐рж░рж╛ржкржж ржкрзНрж░рзЯрзЛржЧрзЗрж░ ржЬржирзНржп ржкрж░рж┐ржорж╛ржгред</p>
                    <div class="grid md:grid-cols-2 gap-6 mb-8">
                        <div class="bg-sky-50 p-4 rounded-lg border border-sky-200">
                            <h3 class="text-xl font-semibold text-sky-800 mb-3">ржЪрзБржирзЗрж░ ржкрж░рж┐ржорж╛ржг</h3>
                            <div class="space-y-2">
                                <p class="text-base">тЬЕ <strong class="font-semibold">ржбрж▓рзЛржЪрзБржи (рж╕рзБржкрж╛рж░рж┐рж╢ржХрзГржд):</strong> <span id="dolomiteAmount" class="font-bold text-xl text-sky-700"></span> ржХрзЗржЬрж┐</p>
                                <p class="text-base">тЬЕ <strong class="font-semibold">ржкрж╛ржерзБрж░рзЗ ржЪрзБржи (ржмрж┐ржХрж▓рзНржк):</strong> <span id="limestoneAmount" class="font-bold text-xl text-sky-700"></span> ржХрзЗржЬрж┐</p>
                            </div>
                        </div>
                        <div class="bg-green-50 p-4 rounded-lg border border-green-200">
                            <h3 class="text-xl font-semibold text-green-800 mb-3">рж▓ржмржгрзЗрж░ ржкрж░рж┐ржорж╛ржг</h3>
                            <div class="space-y-2">
                                <p class="text-base">тЬЕ <strong class="font-semibold">ржЖрзЯрзЛржбрж┐ржиржмрж┐рж╣рзАржи рж▓ржмржг:</strong> <span id="saltAmountEmergency" class="font-bold text-xl text-green-700"></span> ржХрзЗржЬрж┐</p>
                            </div>
                        </div>
                    </div>
                    <h3 class="text-xl font-semibold text-teal-800 mb-4 text-center">ржЪрзБржирзЗрж░ ржирж┐рж░рж╛ржкрждрзНрждрж╛ ржУ ржЭрзБржБржХрж┐ (ржорж╛ржЫ ржерж╛ржХрж╛ ржЕржмрж╕рзНржерж╛рзЯ)</h3>
                    <div class="chart-container">
                        <canvas id="limeSafetyChart"></canvas>
                    </div>
                </div>

                <div id="preparationResults" class="hidden">
                    <p class="text-center text-slate-600 mb-4">ржЦрж╛рж▓рж┐ ржкрзБржХрзБрж░ ржЬрзАржмрж╛ржгрзБржорзБржХрзНржд ржХрж░рждрзЗ ржУ ржорж╛ржЯрж┐ рж╢рзЛржзржирзЗрж░ ржЬржирзНржп ржкрж░рж┐ржорж╛ржгред</p>
                    <div class="grid md:grid-cols-2 gap-6">
                        <div class="bg-indigo-50 p-4 rounded-lg border border-indigo-200">
                            <h3 class="text-xl font-semibold text-indigo-800 mb-3">ржЪрзБржирзЗрж░ ржкрж░рж┐ржорж╛ржг</h3>
                            <div class="space-y-2">
                                <p class="text-base">тЬЕ <strong class="font-semibold">ржХрж▓рж┐ржЪрзБржи/ржкрзЛрзЬрж╛ржЪрзБржи (рж╕рзБржкрж╛рж░рж┐рж╢ржХрзГржд):</strong> <span id="slakedLimeAmount" class="font-bold text-xl text-indigo-700"></span> ржХрзЗржЬрж┐</p>
                                <p class="text-base">тЬЕ <strong class="font-semibold">ржбрж▓рзЛржЪрзБржи (ржмрж┐ржХрж▓рзНржк):</strong> <span id="dolomiteAmountPrep" class="font-bold text-xl text-indigo-700"></span> ржХрзЗржЬрж┐</p>
                            </div>
                        </div>
                        <div class="bg-orange-50 p-4 rounded-lg border border-orange-200">
                            <h3 class="text-xl font-semibold text-orange-800 mb-3">ржЕржирзНржпрж╛ржирзНржп</h3>
                             <div class="space-y-2">
                                <p class="text-base">тЬЕ <strong class="font-semibold">рж▓ржмржг:</strong> <span id="saltAmountPrep" class="font-bold text-xl text-orange-700"></span> ржХрзЗржЬрж┐</p>
                                <p class="text-base">тЬЕ <strong class="font-semibold">ржЯрж┐ржПрж╕ржкрж┐ рж╕рж╛рж░:</strong> <span id="tspAmount" class="font-bold text-xl text-orange-700"></span> ржХрзЗржЬрж┐</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Section 3: Application -->
            <section id="application" class="content-section hidden bg-white p-6 rounded-xl shadow-lg">
                 <h2 class="text-2xl font-bold text-teal-800 mb-4 border-b-2 border-teal-200 pb-2">ржЕржзрзНржпрж╛рзЯ рзй: ржЪрзБржи ржУ рж▓ржмржг ржкрзНрж░рзЯрзЛржЧрзЗрж░ рж╕ржарж┐ржХ ржкржжрзНржзрждрж┐</h2>
                <div class="space-y-6">
                    <div class="flex items-start gap-4 p-4 bg-slate-100 rounded-lg">
                        <div class="flex-shrink-0 bg-teal-500 text-white rounded-full h-10 w-10 flex items-center justify-center text-xl font-bold">рзз</div>
                        <div>
                            <h3 class="font-semibold text-lg text-slate-800">ржкрзНрж░рж╕рзНрждрзБрждрж┐</h3>
                            <p class="text-slate-600">ржЪрзБржи ржХржЦржирзЛржЗ рж╢рзБржХржирзЛ ржЕржмрж╕рзНржерж╛рзЯ ржЫрж┐ржЯрж╛ржмрзЗржи ржирж╛ред ржмрзЬ ржкрж╛рждрзНрж░рзЗ ржирж┐рзЯрзЗ ржкрж░рж┐ржорж╛ржг ржорждрзЛ ржкрж╛ржирж┐ ржжрж┐рзЯрзЗ ржЧрзБрж▓рзЗ ржкрж╛рждрж▓рж╛ ржжрзНрж░ржмржг рждрзИрж░рж┐ ржХрж░рзБржиред</p>
                        </div>
                    </div>
                    <div class="flex items-start gap-4 p-4 bg-slate-100 rounded-lg">
                        <div class="flex-shrink-0 bg-teal-500 text-white rounded-full h-10 w-10 flex items-center justify-center text-xl font-bold">рзи</div>
                        <div>
                            <h3 class="font-semibold text-lg text-slate-800">ржкрзНрж░рзЯрзЛржЧ</h3>
                            <p class="text-slate-600">рж░рзЛржж ржЭрж▓ржорж▓рзЗ ржжрж┐ржирзЗ ржирзМржХрж╛ ржмрж╛ ржкрж╛рзЬ ржжрж┐рзЯрзЗ рж╣рзЗржБржЯрзЗ ржжрзНрж░ржмржгржЯрж┐ рж╕рж╛рж░рж╛ ржкрзБржХрзБрж░рзЗ рж╕ржорж╛ржиржнрж╛ржмрзЗ ржЫрж┐ржЯрж┐рзЯрзЗ ржжрж┐ржиред</p>
                        </div>
                    </div>
                    <div class="flex items-start gap-4 p-4 bg-slate-100 rounded-lg">
                        <div class="flex-shrink-0 bg-teal-500 text-white rounded-full h-10 w-10 flex items-center justify-center text-xl font-bold">рзй</div>
                        <div>
                            <h3 class="font-semibold text-lg text-slate-800">ржЕржкрзЗржХрзНрж╖рж╛</h3>
                            <p class="text-slate-600">ржЪрзБржи ржкрзНрж░рзЯрзЛржЧрзЗрж░ ржкрж░ ржХржоржкржХрзНрж╖рзЗ рзи ржерзЗржХрзЗ рзй ржжрж┐ржи ржЕржкрзЗржХрзНрж╖рж╛ ржХрж░рзЗ рждрж╛рж░ржкрж░ рж▓ржмржг ржкрзНрж░рзЯрзЛржЧ ржХрж░рзБржиред</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Section 4: Feed -->
            <section id="feed" class="content-section hidden bg-white p-6 rounded-xl shadow-lg">
                <h2 class="text-2xl font-bold text-teal-800 mb-4 border-b-2 border-teal-200 pb-2">ржЕржзрзНржпрж╛рзЯ рзк: ржорж╛ржЫрзЗрж░ ржЦрж╛ржжрзНржп ржмрзНржпржмрж╕рзНржерж╛ржкржирж╛</h2>
                
                <!-- Feed Calculator -->
                <div class="bg-slate-100 p-6 rounded-lg mb-8">
                    <h3 class="text-xl font-semibold text-teal-800 mb-4 text-center">ржжрзИржирж┐ржХ ржЦрж╛ржжрзНржп ржХрзНржпрж╛рж▓ржХрзБрж▓рзЗржЯрж░</h3>
                    <div class="grid md:grid-cols-2 gap-4 items-center">
                        <div>
                            <label for="avgWeight" class="block text-sm font-medium text-slate-700 mb-1">ржорж╛ржЫрзЗрж░ ржЧрзЬ ржУржЬржи (ржЧрзНрж░рж╛ржо)</label>
                            <input type="number" id="avgWeight" value="50" class="w-full p-2 border border-slate-300 rounded-md">
                        </div>
                        <div>
                            <label for="fishCount" class="block text-sm font-medium text-slate-700 mb-1">ржкрзБржХрзБрж░рзЗ ржорзЛржЯ ржорж╛ржЫрзЗрж░ рж╕ржВржЦрзНржпрж╛</label>
                            <input type="number" id="fishCount" value="5000" class="w-full p-2 border border-slate-300 rounded-md">
                        </div>
                    </div>
                    <div class="mt-4 text-center">
                        <p class="text-lg">ржорзЛржЯ ржорж╛ржЫрзЗрж░ ржУржЬржи: <strong id="totalBiomass" class="text-teal-700 text-xl"></strong> ржХрзЗржЬрж┐</p>
                        <p class="text-lg">ржжрзИржирж┐ржХ ржкрзНрж░рзЯрзЛржЬржирзАрзЯ ржЦрж╛ржмрж╛рж░: <strong id="dailyFeed" class="text-amber-600 text-xl"></strong> ржХрзЗржЬрж┐</p>
                    </div>
                </div>


                <p class="mb-6 text-slate-600">ржорж╛ржЫрзЗрж░ ржжрзНрж░рзБржд ржмрзГржжрзНржзрж┐ ржПржмржВ рж╕рзБрж╕рзНржмрж╛рж╕рзНржерзНржпрзЗрж░ ржЬржирзНржп рж╕ржарж┐ржХ ржЦрж╛ржжрзНржп ржмрзНржпржмрж╕рзНржерж╛ржкржирж╛ ржЕржкрж░рж┐рж╣рж╛рж░рзНржпред ржорж╛ржЫрзЗрж░ ржЦрж╛ржжрзНржп ржкрзНрж░ржзрж╛ржиржд ржжрзБржЗ ржкрзНрж░ржХрж╛рж░: ржкрзНрж░рж╛ржХрзГрждрж┐ржХ ржЦрж╛ржжрзНржп ржУ рж╕ржорзНржкрзВрж░ржХ ржЦрж╛ржжрзНржпред</p>
                <div class="grid md:grid-cols-2 gap-6">
                    <div class="bg-lime-50 p-4 rounded-lg border border-lime-200">
                        <h3 class="text-xl font-semibold text-lime-800 mb-3">ржкрзНрж░рж╛ржХрзГрждрж┐ржХ ржЦрж╛ржжрзНржп</h3>
                        <p class="text-slate-700">ржкрзБржХрзБрж░рзЗ ржкрзНрж░рж╛ржХрзГрждрж┐ржХржнрж╛ржмрзЗ ржЬржирзНржорж╛ржирзЛ ржЙржжрзНржнрж┐ржжржХржгрж╛ (ржлрж╛ржЗржЯрзЛржкрзНрж▓рзНржпрж╛ржЩрзНржХржЯржи) ржУ ржкрзНрж░рж╛ржгрзАржХржгрж╛ (ржЬрзБржкрзНрж▓рзНржпрж╛ржЩрзНржХржЯржи) ржорж╛ржЫрзЗрж░ ржЬржирзНржп ржЙрзОржХрзГрж╖рзНржЯ ржорж╛ржирзЗрж░ ржЦрж╛ржмрж╛рж░ред ржкрж╛ржирж┐рж░ рж░ржЩ рж╣рж╛рж▓ржХрж╛ рж╕ржмрзБржЬ ржерж╛ржХрж╛ ржорж╛ржирзЗ ржкрзНрж░рж╛ржХрзГрждрж┐ржХ ржЦрж╛ржжрзНржп ржЖржЫрзЗред</p>
                    </div>
                    <div class="bg-cyan-50 p-4 rounded-lg border border-cyan-200">
                        <h3 class="text-xl font-semibold text-cyan-800 mb-3">рж╕ржорзНржкрзВрж░ржХ ржЦрж╛ржжрзНржп</h3>
                        <p class="text-slate-700">ржЪрж╛рж▓рзЗрж░ ржХрзБржБрзЬрж╛, ржЧржорзЗрж░ ржнрзБрж╖рж┐, ржЦрзИрж▓ ржЗрждрзНржпрж╛ржжрж┐ ржжрж┐рзЯрзЗ ржмрж╛ржирж╛ржирзЛ ржмрж╛ ржмрж╛ржгрж┐ржЬрзНржпрж┐ржХржнрж╛ржмрзЗ рждрзИрж░рж┐ ржкрзНржпрж╛ржХрзЗржЯржЬрж╛ржд ржЦрж╛ржмрж╛рж░ржХрзЗ рж╕ржорзНржкрзВрж░ржХ ржЦрж╛ржжрзНржп ржмрж▓рзЗред</p>
                    </div>
                </div>
                <div class="mt-8">
                    <h3 class="text-xl font-semibold text-teal-800 mb-4 text-center">ржжрзИржирж┐ржХ ржЦрж╛ржжрзНржп ржкрзНрж░рзЯрзЛржЧрзЗрж░ рж╣рж╛рж░ (рж╕ржорзНржкрзВрж░ржХ)</h3>
                    <div class="overflow-x-auto">
                        <table class="min-w-full bg-white border border-gray-200 text-center">
                            <thead class="bg-slate-100">
                                <tr>
                                    <th class="py-2 px-4 border-b">ржорж╛ржЫрзЗрж░ ржЧрзЬ ржУржЬржи</th>
                                    <th class="py-2 px-4 border-b">ржжрзИржирж┐ржХ ржЦрж╛ржжрзНржп (ржорж╛ржЫрзЗрж░ ржорзЛржЯ ржУржЬржирзЗрж░ %)</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr><td class="py-2 px-4 border-b">рзз - рзл ржЧрзНрж░рж╛ржо</td><td class="py-2 px-4 border-b">рззрзж - рзо %</td></tr>
                                <tr><td class="py-2 px-4 border-b">рзм - рзирзж ржЧрзНрж░рж╛ржо</td><td class="py-2 px-4 border-b">рзо - рзм %</td></tr>
                                <tr><td class="py-2 px-4 border-b">рзирзз - рзлрзж ржЧрзНрж░рж╛ржо</td><td class="py-2 px-4 border-b">рзм - рзк %</td></tr>
                                <tr><td class="py-2 px-4 border-b">рзлрзз - рззрзжрзж ржЧрзНрж░рж╛ржо</td><td class="py-2 px-4 border-b">рзк - рзй %</td></tr>
                                <tr><td class="py-2 px-4 border-b">рззрзжрзж ржЧрзНрж░рж╛ржорзЗрж░ ржКрж░рзНржзрзНржмрзЗ</td><td class="py-2 px-4 border-b">рзй - рзи %</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </section>

            <!-- Section 5: Management -->
            <section id="management" class="content-section hidden bg-white p-6 rounded-xl shadow-lg">
                <h2 class="text-2xl font-bold text-teal-800 mb-4 border-b-2 border-teal-200 pb-2">ржЕржзрзНржпрж╛рзЯ рзл: ржжрзАрж░рзНржШржорзЗрзЯрж╛ржжрзА ржЯрзЗржХрж╕ржЗ ржмрзНржпржмрж╕рзНржерж╛ржкржирж╛</h2>
                <div class="space-y-3" id="accordion-container">
                    <div class="accordion-item border border-gray-200 rounded-lg">
                        <button class="accordion-header w-full text-left p-4 bg-slate-100 hover:bg-slate-200 transition rounded-t-lg flex justify-between items-center">
                            <span class="font-semibold text-lg text-slate-700">рзз. ржкрзНрж░рзЛржмрж╛рзЯрзЛржЯрж┐ржХрзЗрж░ ржмрзНржпржмрж╣рж╛рж░</span>
                            <span class="accordion-icon text-teal-600 font-bold text-xl">+</span>
                        </button>
                        <div class="accordion-content"><div class="p-4 border-t border-gray-200"><p class="text-slate-600">ржкрзНрж░рзЛржмрж╛рзЯрзЛржЯрж┐ржХ ржмрж╛ ржЙржкржХрж╛рж░рзА ржмрзНржпрж╛ржХржЯрзЗрж░рж┐рзЯрж╛ ржкрзБржХрзБрж░рзЗрж░ рждрж▓рж╛рж░ ржмрж┐рж╖рж╛ржХрзНржд ржХрж╛ржжрж╛ ржУ ржЧрзНржпрж╛рж╕ ржжрзВрж░ ржХрж░рзЗ ржкрж╛ржирж┐рж░ ржЧрзБржгржЧржд ржорж╛ржи ржарж┐ржХ рж░рж╛ржЦрзЗред ржорж╛рж╕рзЗ ржПржХ ржмрж╛ ржжрзБржЗржмрж╛рж░ ржирж┐рзЯржорж┐ржд ржкрзНрж░рзЛржмрж╛рзЯрзЛржЯрж┐ржХ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржиред</p></div></div>
                    </div>
                    <div class="accordion-item border border-gray-200 rounded-lg">
                        <button class="accordion-header w-full text-left p-4 bg-slate-100 hover:bg-slate-200 transition flex justify-between items-center">
                            <span class="font-semibold text-lg text-slate-700">рзи. ржХрж╛ржжрж╛ (Sludge) ржмрзНржпржмрж╕рзНржерж╛ржкржирж╛</span>
                            <span class="accordion-icon text-teal-600 font-bold text-xl">+</span>
                        </button>
                        <div class="accordion-content"><div class="p-4 border-t border-gray-200"><ul class="list-disc list-inside space-y-2 text-slate-600"><li>ржкрзНрж░рзЯрзЛржЬржирзЗрж░ ржЕрждрж┐рж░рж┐ржХрзНржд ржЦрж╛ржмрж╛рж░ ржжрзЗржмрзЗржи ржирж╛ред</li><li>ржорж╛рж╕рзЗ ржЕржирзНрждржд ржПржХржмрж╛рж░ рж╣рж░рж░рж╛ ржЯрзЗржирзЗ ржмрж┐рж╖рж╛ржХрзНржд ржЧрзНржпрж╛рж╕ ржмрзЗрж░ ржХрж░рзЗ ржжрж┐ржиред</li></ul></div></div>
                    </div>
                    <div class="accordion-item border border-gray-200 rounded-lg">
                        <button class="accordion-header w-full text-left p-4 bg-slate-100 hover:bg-slate-200 transition flex justify-between items-center">
                            <span class="font-semibold text-lg text-slate-700">рзй. ржирж┐рзЯржорж┐ржд ржкрж╛ржирж┐ ржкрж░рзАржХрзНрж╖рж╛</span>
                            <span class="accordion-icon text-teal-600 font-bold text-xl">+</span>
                        </button>
                        <div class="accordion-content"><div class="p-4 border-t border-gray-200"><p class="text-slate-600 mb-2">рж╕рж╛ржзрж╛рж░ржг ржЯрзЗрж╕рзНржЯрж┐ржВ ржХрж┐ржЯ ржжрж┐рзЯрзЗ ржирж┐рзЯржорж┐ржд ржкрж┐ржПржЗржЪ (pH), ржжрзНрж░ржмрзАржнрзВржд ржЕржХрзНрж╕рж┐ржЬрзЗржи (DO), ржПржмржВ ржЕрзНржпрж╛ржорзЛржирж┐рзЯрж╛ ржкрж░рзАржХрзНрж╖рж╛ ржХрж░рзБржиред</p></div></div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const pondSizeInput = document.getElementById('pondSize');
            const tabs = document.querySelectorAll('.tab-button');
            const contentSections = document.querySelectorAll('.content-section');
            const accordionHeaders = document.querySelectorAll('.accordion-header');
            
            // Calculator elements
            const calcModeEmergencyBtn = document.getElementById('calcModeEmergency');
            const calcModePreparationBtn = document.getElementById('calcModePreparation');
            const emergencyResultsEl = document.getElementById('emergencyResults');
            const preparationResultsEl = document.getElementById('preparationResults');
            
            // Emergency result spans
            const dolomiteAmountEl = document.getElementById('dolomiteAmount');
            const limestoneAmountEl = document.getElementById('limestoneAmount');
            const saltAmountEmergencyEl = document.getElementById('saltAmountEmergency');

            // Preparation result spans
            const slakedLimeAmountEl = document.getElementById('slakedLimeAmount');
            const dolomiteAmountPrepEl = document.getElementById('dolomiteAmountPrep');
            const saltAmountPrepEl = document.getElementById('saltAmountPrep');
            const tspAmountEl = document.getElementById('tspAmount');

            // Feed Calculator elements
            const avgWeightInput = document.getElementById('avgWeight');
            const fishCountInput = document.getElementById('fishCount');
            const totalBiomassEl = document.getElementById('totalBiomass');
            const dailyFeedEl = document.getElementById('dailyFeed');

            let currentCalcMode = 'emergency';

            const emergencyDosages = {
                dolomite: 0.75, // kg per decimal
                limestone: 0.75, // kg per decimal
                salt: 1.5 // kg per decimal
            };

            const preparationDosages = {
                slakedLime: 1.5, // kg per decimal for disinfection
                dolomite: 2.0, // kg per decimal
                salt: 1.5, // kg per decimal
                tsp: 0.150 // kg per decimal for natural food growth
            };

            function calculateAndDisplay() {
                const size = parseFloat(pondSizeInput.value) || 0;
                
                if (currentCalcMode === 'emergency') {
                    dolomiteAmountEl.textContent = (size * emergencyDosages.dolomite).toFixed(1);
                    limestoneAmountEl.textContent = (size * emergencyDosages.limestone).toFixed(1);
                    saltAmountEmergencyEl.textContent = (size * emergencyDosages.salt).toFixed(1);
                } else {
                    slakedLimeAmountEl.textContent = (size * preparationDosages.slakedLime).toFixed(1);
                    dolomiteAmountPrepEl.textContent = (size * preparationDosages.dolomite).toFixed(1);
                    saltAmountPrepEl.textContent = (size * preparationDosages.salt).toFixed(1);
                    tspAmountEl.textContent = (size * preparationDosages.tsp).toFixed(1);
                }
            }
            
            function calculateFeed() {
                const avgWeight = parseFloat(avgWeightInput.value) || 0;
                const fishCount = parseInt(fishCountInput.value) || 0;

                const totalBiomass = (avgWeight * fishCount) / 1000; // in kg
                
                let feedRate = 0;
                if (avgWeight <= 5) feedRate = 0.09; // 9%
                else if (avgWeight <= 20) feedRate = 0.07; // 7%
                else if (avgWeight <= 50) feedRate = 0.05; // 5%
                else if (avgWeight <= 100) feedRate = 0.04; // 4%
                else feedRate = 0.03; // 3%

                const dailyFeed = totalBiomass * feedRate;

                totalBiomassEl.textContent = totalBiomass.toFixed(2);
                dailyFeedEl.textContent = dailyFeed.toFixed(2);
            }

            function renderLimeChart() {
                const chartElement = document.getElementById('limeSafetyChart');
                if (!chartElement) return;
                const ctx = chartElement.getContext('2d');
                new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: ['ржбрж▓рзЛржЪрзБржи', 'ржкрж╛ржерзБрж░рзЗ ржЪрзБржи', 'ржХрж▓рж┐ржЪрзБржи'],
                        datasets: [
                            { label: 'ржирж┐рж░рж╛ржкрждрзНрждрж╛', data: [9, 8, 2], backgroundColor: 'rgba(56, 189, 248, 0.6)' },
                            { label: 'ржЭрзБржБржХрж┐', data: [1, 2, 9], backgroundColor: 'rgba(239, 68, 68, 0.6)' }
                        ]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: { y: { beginAtZero: true, max: 10, title: { display: true, text: 'ржЖржкрзЗржХрзНрж╖рж┐ржХ ржорж╛ржи (рзз-рззрзж рж╕рзНржХрзЗрж▓рзЗ)' } } }
                    }
                });
            }

            function switchTab(tabId) {
                contentSections.forEach(section => section.classList.add('hidden'));
                tabs.forEach(tab => {
                    if (tab.dataset.tab === tabId) {
                        tab.classList.remove('tab-inactive');
                        tab.classList.add('tab-active');
                    } else {
                        tab.classList.remove('tab-active');
                        tab.classList.add('tab-inactive');
                    }
                });
                document.getElementById(tabId).classList.remove('hidden');
            }
            
            function switchCalcMode(mode) {
                currentCalcMode = mode;
                if (mode === 'emergency') {
                    calcModeEmergencyBtn.classList.add('mode-active');
                    calcModePreparationBtn.classList.remove('mode-active');
                    emergencyResultsEl.classList.remove('hidden');
                    preparationResultsEl.classList.add('hidden');
                } else {
                    calcModePreparationBtn.classList.add('mode-active');
                    calcModeEmergencyBtn.classList.remove('mode-active');
                    preparationResultsEl.classList.remove('hidden');
                    emergencyResultsEl.classList.add('hidden');
                }
                calculateAndDisplay();
            }

            pondSizeInput.addEventListener('input', calculateAndDisplay);
            
            avgWeightInput.addEventListener('input', calculateFeed);
            fishCountInput.addEventListener('input', calculateFeed);

            tabs.forEach(tab => {
                tab.addEventListener('click', () => switchTab(tab.dataset.tab));
            });

            accordionHeaders.forEach(header => {
                header.addEventListener('click', () => {
                    const content = header.nextElementSibling;
                    const icon = header.querySelector('.accordion-icon');
                    const isExpanded = content.style.maxHeight;
                    
                    accordionHeaders.forEach(h => {
                        if (h !== header) {
                           h.nextElementSibling.style.maxHeight = null;
                           h.querySelector('.accordion-icon').textContent = '+';
                        }
                    });

                    if (isExpanded) {
                        content.style.maxHeight = null;
                        icon.textContent = '+';
                    } else {
                        content.style.maxHeight = content.scrollHeight + "px";
                        icon.textContent = '-';
                    }
                });
            });

            calcModeEmergencyBtn.addEventListener('click', () => switchCalcMode('emergency'));
            calcModePreparationBtn.addEventListener('click', () => switchCalcMode('preparation'));

            // Initial setup
            calculateAndDisplay();
            calculateFeed();
            renderLimeChart();
            switchTab('emergency');
        });
    </script>
</body>
</html>
